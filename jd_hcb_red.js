/*
并发会场红包
设置了环境变量FLCODE3，则不会执行
cron 0 0,10,20 * * * https://raw.githubusercontent.com/star261/jd/main/scripts/jd_hcb_red.js
* */
const $ = new Env('并发会场红包');
$.flCode =  $.isNode() ? (process.env.FLCODE3 ? process.env.FLCODE3 : '9999'):'9999';
const jdCookieNode = require('./jdCookie.js');
let cookiesArr = [];
if ($.isNode()) {
    Object.keys(jdCookieNode).forEach((item) => {
        cookiesArr.push(jdCookieNode[item])
    })
    if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {};
} else {
    cookiesArr = [
        $.getdata("CookieJD"),
        $.getdata("CookieJD2"),
        ...$.toObj($.getdata("CookiesJD") || "[]").map((item) => item.cookie)].filter((item) => !!item);
}
var _0xod3='jsjiami.com.v6',_0xod3_=['‮_0xod3'],_0x4984=[_0xod3,'wqnDosOzexI=','w4XDlBnCtxg=','N8O3XGTCsxXDhw==','wq8HwrYRw7LCtgNWM8KpA8ODO8KpwpnCg0U=','5Yq05ae95Yy4Y+Wlrei1gg==','CXDChcONwqc=','w4zDvgtfKw==','CcKIwrcUwpPCpw==','w7DDj8Oiw7F0','N3LCicKLYw==','djBvw5kSw7c=','XcOOXBjCsQ==','FcOpwo/CoH4=','I1HCmcOPworCoQ==','w4TCmsO+XMKpBA==','w5/CisOQw78Vw6g=','w4pdZz86CA==','wonDuXfDomk=','wpHDgjHDq8KC','w53DoCPDgjYKw6A=','wqjDkcOXby1T','QXDDn8OADMKT','w5/CtXLDnsKUDw==','w7/Du8ORbsO2c8O8Tl5SW8OWKcOhOMKL','wrB7w4QxwqQ=','w43DrQhhGQ==','w4PDh8Oaw71p','CsKTE8KkCcKnaw==','Yz15w4kv','w4UtOEQS','wrJkw7wYwrfDkA==','w7XDmCcuw6TCpw==','EMObS0DCqg==','N2HCrTo0','wqPDosOUUwM=','UsOyKMK+w4g=','I8KBw4zCjyzDoA==','w7prQRw0','F8KMwrcXwojCog==','w6vDozrDrAk=','w6Y4AlA2w7DDsE9/woAGwqbCucK7wrAtw6U=','w4jCrFLDnQ==','FsO4wpHCum8=','wo45TsK8Qw==','w7PCs1/DvcKH','w4TDk3XCnTvDrTXDh8KUw4TCslHDoF/CtUjCsXzCjsOqw7XDs8OiwpRVwq1eAcKbw6hhIsOVwp9ew4pqw4d5SVNUw77DqDnDvDUwKQ==','w6t7cw==','EljCpg45','XhA1BQU=','w4LDnMO4w6E=','LsKkw6Rlwr4=','JcKKwr/Dl0zDjcKxN8OpwqnDm8Ohw7J9PcOncTLCq8OMw5s9RcOCNEDCjU1uZR5SV8O/w67CrsK2dmxwTQQgw7zCusO3O8OjdA==','w6Rqc1TDlAMCdMOmBMOHwpt0wr8oMA==','MsKlHcKJAw==','w5zDg8OdasOp','w4VMw5FawpI=','w5HDuCUzw4M=','w7B5w5VVwrU=','MsK2c8KY','FsKdwrUawpM=','wr0veMK/dA==','wq4dwqYEw7nDg0o=','w4/ChcODQsK8UVslEMOEw5LDuiTDim3Cn8KO','AVZuLsK1','fX/DhcOnOw==','w4XCpMOvVcKm','eTbCtRd7','P8OPwrjCnko=','JHBlGsKz','w51pfWvDlw==','WcOlMMKLw60=','wqAWwrY=','KMKIdcKTOw==','w5/DqAQew7E=','wo/DhFMmwqJF','w4rDiW7DjUQ=','wrTDlQDDvsKt','wrsLS8Kjcg==','ccKAw51fdA==','w6PDjcOKUsOG','w4jDsgE9w5s=','wqjDpMOPbwo=','N3rCo8KbYQ==','w7pdbAYt','OcKdw67DjGY=','w4nCj8O9w7QVw67CvA4G','woASc8K3eA==','w5t6XkHDlg==','EcObwpbCon4=','w6bDozXChBjCv3XChsKQwpvDqk/Co0PDsRjCv1zCp8OJwr/DpsOlwpIYwqAEXsOKwqg4Y8KLw7gOw5dJw4N/fVVPwqHCtWfCoSZ/acKgwpnCqMOvwoxHw7zCpA==','w5LCsUw=','EMOQHsKbw7ZawqXCvMKkwovDpcOewoQcw5kOWAXDqcOOwp7DrcOcw73CulUGw5l0fsOJCBsqF1MGw4jDuMKQwosjQxZaw6PCpHI5w7w1wo3CscO+d8KjfsOswoDDjUTCjGASw6HCtMKxw5TDv8OUN8OCLcKQw61Aw5LCt8KXR8KZwp/CnMKfwpoQw47DmsOETxTDosKKP3csTw7CnRVGJMK4GnHCuBA3M8KXWcOow4nCvxY2aVPDhGMRwq1vXsOXw48NUwzDgmnCtcOwV8Kxw5XDjcKjPgEVLCU7wo/CvsKVEMOsw64Qw7vCmsOtWMKiw4zDvsKGHmlDw6YSFMOZw67Drz04w5zCusOrM8OPHsKsw5JKIsORwp7Cgxc1N8O/WgrDoMOnw4nCnTXCh0FjbMOGdsKbwo7CoQDDnw8wFMKVTiMowpRHw70xOsKRw4XDgjLDmxE2woPDqHhGw6TCj0NJEywFYMKJwp55wqhjAsKyw79BwpDCmzwVw5YEXRbDk3XCpi8aYsKUwoVGwrjDt0DCo8OYIMOpe1jCvUETwrRzG1jCicOBWwtOwqPDn8OSRlPDkAHCj1TDqUzCgMKPw5VKUsKsDztrWWxkV8OWw48Ew5fCngk3LMKMW8OofEHDvywKw4HClcOZwp3ChMKmw5/DuhzCjcOeX8KFw6NPbyUSw6rDs2dOwoLDiUPDn8OWwrhSCXPChMK7wr07w4wEEAvCjwzDmMOoBsOBw5/DgMOFQMOdwqFIw7jDpsObwqhww6HCscOCwqHCpMObwoLCqMOTwrksasOdOcKqwp7Dg1B3CMOFFWoww70eUMKRNzMlUsOpw7J0wqfCqArDtENwW8O2KcOfwqDCrA3DvgrCq8OwZ3PDjwJNw75cwoRAwqcKw7fDgsOHw7TCiSzDpE8Yw4o9J00NSRU6VcOHKsKuXHRYwr/Du8KVFQ==','w59qRG/Dgw==','SCvDgMK5woI=','w5TDiX4=','L03CicKmYQ==','H8OtwqfCl1w=','wp/DsVXDsWM=','XRM4CwE=','YRDCuRhB','ZzEoCxU=','UsOdBcKd','Y8OtC8OHfQ==','w7TDh8OTbsOk','w5rDlsOs','CcKCwr4=','U3J4KuispuaziuWlsei1ju+8jeisteahq+aeq+e8p+i2vumGsOivrg==','YxzDksKTwqc=','OcKswpjCkno=','aQ9ow40t','KULDuQ==','KsKrfcKwBsOc','w5DCsVw=','wrB0WA==','w5HDrwpT','MBhTw6ToroDms4flpprot63vvaHorpPmoq/mnIDnvonot5Dphanor6s=','w63DqsO/WsOC','YTbCmQ==','w7Dojqzlvqjmi5vmioDli4Hvv53muLQ=','w69QdyoC','wqtOw78NwpQ=','VsOAcgg=','FsK0w71Xwrc=','F8KQw7NswqQ=','L8KqfsKQDMOhdg==','w4XDqz1yGA==','wo0ywoQXw4s=','wpDDjjE=','w6vDli4Pw7nCuA==','w5fDjX7Dlg==','wqg3NCYN','w5zDqMOIdMOi','asOJLcOcahbCqQ==','wpfDgCDDksKcWAJJLsK8','YWPDiMOGLQ==','VmTDicOS','w7DDlipzNw==','D8KSEA==','w4hnwrPDlQc=','w6zDvxDCsBE=','E2bCvMKHZg==','5LuR5om86KGz','cuiMruW+r+S8meaAq+WJou++u++6mea7nA==','w7pEbD8=','w7fDp1PDtVc=','w57DpCPDtw==','wqhiT8Ot','woXojoHlvrnmiILmi4TliZ/vvo/muaI=','w5jCv0/DkQ==','wp4SITse','wqHDrnrDhmM=','w4PCkMODUw==','VsOIdQrCpFbCpMKG','w4XDsCzCngw=','aC98','w7PDrsORfw==','w4LDmWXDg3E=','fRjDvMK2','TydJw44N','LX3CjRI7w6tG','w7wpBkwkwqnCug==','wphvSMOneg==','w4d9w45TwqM=','DMKhwq0=','wpHDgC4=','w7JKfxsRKg==','IUzDqjk=','RgU8HFx0WMOaw6jDqg==','wqpkw6oLw6zDkAIpLcO5wqUbVcOMwqVuwoVtdcOBwrTCtcKyw5LDkQVmfh7CucKHw7HDtsKiwr9RwptdScO8azfDgBDCrBbCjsOFaAfDt8OFcSnDtsK6wroEwqbCrEcWwp0=','XMObPcKfw7k=','w5bDpcOobcO9','w53DoCM=','XsOOYSzCuVE=','S2/DvMOcLQ==','wpExwo8nw64=','Nl7DhAzCsg==','GFZREA==','dBjDuA==','UMOQHsKTw60=','LsKxf8K/Jg==','wo0awqYww4o=','JcK4w4zDt1E=','wqgdWcKaag==','C1zCpCY1','w47CgMO3w7Ucw6o=','d8Kbw5hdT8K7WWA=','w5TChMOVQcK7GR1kAg==','w5TDoxTDmCw=','w5rDnMOlw7JMBw==','GlvCucOkwro=','w65Iwq3Duhk=','EsKHw7lJwofCnw==','wpbDs3XDuFw=','M0nCisO1wog=','w5/CpmHDocK1','wrJuw7U6wrHDig==','w6nDhsOWw5R1','XmDDk8OUDMKJ','ZCxtw4MSw6k=','w7pnSzgM','CXzCkx4vw4hBRHE0IHvClnLCvcO5woxhY8OJD8KID8OCQcKHNcKjwqjDoitmw7oew4LCpcOyw58Lw5LDnR/CgjDCkGlnw4XDozt2DcOvdQ1XwoVpMcKiw6ZNVsOTMsKNwp7CtCrCjMOiw6LCisKCwpstPsKbwqrChMKjwoxfczTDpSkhw4hzecKgwpJ2F3kfw5DCg8Kxwrc7wro1dsO5L3jDnsOEwrrDqDhPwqQXa8O8Rm/DpzB6wpRdF8O+dMOdwolqJ3VAXBHDh3nDlDYzw6wtwqbCkFPDjR/CscK6w5TCm0ljw4zCrA==','EcKqwoHCv2o=','w7HCnsOdUMK9','ccOyKcK9w70=','wow4wpMvw6c=','w6RLw4tYwpA=','diBNw749','LWDCpxgnw4E=','aDfCiA==','w4piRw4xF0gGw5d+OcOKw4Q=','woDDunk=','ZsOmWTnCmWzCksKrwoTDr8O5WUc=','wrtoW8OjVg==','w5DDjQTDjDA=','w5LDsSPDpiwow7M4w7lRVMOkw5g=','IX3Cnw==','w5rDkB7CpDnDigLDsMKuwqPDjDLCmg==','SA4v','w6bDijojw6zCpA==','w4XDmzLCsR4=','w7LDoTHDvT0=','wqE7wrckw64=','B8K6w7/Djm/DqsKoPMO+w47CnsKlwqw=','ZsKaw70=','eScGPCNabMOqw4HDhzkoRA==','w4lnwpvDvhk=','WR7CoSJwZsKswrxbw7lewr0F','J8K3acKcE8OA','fsKpwoI/wrk=','w79twobDjBU=','w5bDoRwmw5s=','D1/CmjI2','dyxyw7os','bjIfIjo=','RcOAbx0=','w6c4wqtG','w71jwrnDqzg=','dArDrw==','DsKvwqfCuw==','CmzCvMKqeg==','wo1tWcOmeQ==','wrRvS8O4a8ODw6jDusOcARjDpTxbJ37DtWFRwqQnQGXDh0MWwqBWRnhzWzZ1WX3CosKMwp7DlFHCpQs=','woppw6EZwoA=','w4HCncO0XcKrDg==','w6pqdRcS','aCV1w749w4U=','w6jCicOqw7cw','w47CjsOUw4U7','QMOAaA3CpE4=','csO4GMKZw4Y=','G8KBw6bDt20=','w6NpwprDmATCmQ==','EMKVGMK2','w77DojLCnA==','w5TDlQQ7w6I=','wonDicOgXTg=','woMCICgLw6g=','w5HCv0s=','w61yaw==','wrQbwq0W','U8OfHcOkXg==','w6B7aUPDk1E=','cMOTN8Oa','wq1tw7scwqY=','w53DrhjCohE=','bMODKsOVUAs=','w61+wozDpjE=','w5DCjsO+','fjhuw4g=','PHnlpLLotohWwqXljLTlmKhXRA==','wpzDgyU=','I1vCpMOCwoQ=','wqscwqU=','wqkSwq8E','aCLlp5Tot4c2IuWMveWYmMOOIQ==','VMOIaAjCp0/Csw==','w6rDuC/CkQ==','w5xFwp3CiRvClcKc','MWHChQ==','w6JtwoDDnBg=','CMKMwq0Qwo8=','wo7DiGMVwog=','woMawo8qw4w=','wqzDtsO3WS4=','MkTDuDE=','dTTDksOaIzM=','MsOEwqUYE8Ok','w4dhwpjDqj4=','fjx3w5oYw7fDgMOn','w7rDpC11NA==','worDu1wMwr5S','w47Ctl7Dt8Kw','w4jCqsOow4IY','wonDj1UTwqAMwotyXcKFwo3Cmwk=','W8KjwqXCunjDsEk=','wofCgMO9w7UBw6LCoRgLwrDCuA==','E2LCmAAN','wrRmwpDDrAXCgcKJcFLCjkRlwqZcwr1ef8OeSSjDmkzChsObwoDDl8OnM8OdNkLCmMKcw70MwrbCvsOaEsOhA8Oobg3DrWPCn8OMw7LDlkMgwqoMwpXCog==','FsKHbMKmNQ==','w5DChMO3w7YHw68=','P8Krwqo9wqM=','w5VNwrjDvTQ=','w7lrw7tpwoM=','ZsKnw4p4bA==','YS8eXUFQ','w43DrwlSMMOQ','w5XDiH/Dn2E=','wrnDrUctwpQ=','axzDu8Kn','XgUtQRJ6W8OYw7fDqg==','CMKrwqvCunjDrhU=','w5TDhcOhwrdFBsK6bgU/','XMKOwo8owp4=','HFFCBsKyw7w=','B8KcA8Kg','bsO/JsKQw68=','BlPClcKneA==','dkbDqcOiLQ==','wqMVJzUm','woTDvDrDqcKe','wpHDg8OwchY=','wqohJj0d','w4XCjUjDpcKj','w5TCgMOqw4s2','wqnDgMOVYjY=','wpbDpGPDnFA=','w6PDvcOMcw==','w708Gkkx','TcKhw5JLfg==','LsKhbsKQBA==','W3zDuMO4Gg==','HuiMluW+keS9seaAq+WIm++/kO+7vea4ug==','wrYGwq0Vw6A=','finCkhtW','eDrDh8KYwos=','NnbCmRsiw4dF','KG3CgsKnZXA=','VS8OCyA=','5Yu45aWf5YyZwoTlpJXot4g=','MMOMwqrClmo=','BcKdwoTChlo=','CsKdw4XDpls=','w7ZAeToGKmM=','c8ODMMKfRwzCqwluw4M=','wqIgwow5w4Y=','RQU4CBRnRw==','w7nCp8Oxw6MR','dcK4wq8Cwqw=','w4bDmsOzw4N2','cMKEw6dASQ==','wrMBwqsM','QXXDkcOaDA==','DMKVEMKjAw==','wqYkWsKXaDvDgg==','w4jDoCfDuj4Ew6A=','wq5+TMO4','w6lNSXzDoA==','LHbCiBMmw5ZT','AMObwrPCi1w=','wphYa8OZTQ==','ZwVcw58s','w5nCjXXDqMK1','w6pffBQb','MnXCowEQ','wpU+dcKCcg==','qjLsEUCbjhxxDiGTqfJrami.com.v6=='];if(function(_0x1715b4,_0x4e5763,_0x1b2972){function _0x571042(_0x23aa96,_0x40c860,_0x82601e,_0x510404,_0x49c504,_0x3ab740){_0x40c860=_0x40c860>>0x8,_0x49c504='po';var _0x1500c7='shift',_0x3202a7='push',_0x3ab740='‮';if(_0x40c860<_0x23aa96){while(--_0x23aa96){_0x510404=_0x1715b4[_0x1500c7]();if(_0x40c860===_0x23aa96&&_0x3ab740==='‮'&&_0x3ab740['length']===0x1){_0x40c860=_0x510404,_0x82601e=_0x1715b4[_0x49c504+'p']();}else if(_0x40c860&&_0x82601e['replace'](/[qLEUCbhxxDGTqfJr=]/g,'')===_0x40c860){_0x1715b4[_0x3202a7](_0x510404);}}_0x1715b4[_0x3202a7](_0x1715b4[_0x1500c7]());}return 0xca614;};return _0x571042(++_0x4e5763,_0x1b2972)>>_0x4e5763^_0x1b2972;}(_0x4984,0xeb,0xeb00),_0x4984){_0xod3_=_0x4984['length']^0xeb;};function _0x1295(_0x4e8b76,_0x4d806c){_0x4e8b76=~~'0x'['concat'](_0x4e8b76['slice'](0x1));var _0x5323ea=_0x4984[_0x4e8b76];if(_0x1295['WyPjaO']===undefined){(function(){var _0x1017fc=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4e1131='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x1017fc['atob']||(_0x1017fc['atob']=function(_0x4ad85b){var _0x179543=String(_0x4ad85b)['replace'](/=+$/,'');for(var _0xa88e45=0x0,_0x489007,_0x526215,_0x206a94=0x0,_0x1ac6a6='';_0x526215=_0x179543['charAt'](_0x206a94++);~_0x526215&&(_0x489007=_0xa88e45%0x4?_0x489007*0x40+_0x526215:_0x526215,_0xa88e45++%0x4)?_0x1ac6a6+=String['fromCharCode'](0xff&_0x489007>>(-0x2*_0xa88e45&0x6)):0x0){_0x526215=_0x4e1131['indexOf'](_0x526215);}return _0x1ac6a6;});}());function _0x17a4d6(_0x42cb55,_0x4d806c){var _0x25c9fc=[],_0x1a2f9e=0x0,_0x263449,_0x569f66='',_0x4cec74='';_0x42cb55=atob(_0x42cb55);for(var _0x13a6bf=0x0,_0x1a1bf2=_0x42cb55['length'];_0x13a6bf<_0x1a1bf2;_0x13a6bf++){_0x4cec74+='%'+('00'+_0x42cb55['charCodeAt'](_0x13a6bf)['toString'](0x10))['slice'](-0x2);}_0x42cb55=decodeURIComponent(_0x4cec74);for(var _0x4250a8=0x0;_0x4250a8<0x100;_0x4250a8++){_0x25c9fc[_0x4250a8]=_0x4250a8;}for(_0x4250a8=0x0;_0x4250a8<0x100;_0x4250a8++){_0x1a2f9e=(_0x1a2f9e+_0x25c9fc[_0x4250a8]+_0x4d806c['charCodeAt'](_0x4250a8%_0x4d806c['length']))%0x100;_0x263449=_0x25c9fc[_0x4250a8];_0x25c9fc[_0x4250a8]=_0x25c9fc[_0x1a2f9e];_0x25c9fc[_0x1a2f9e]=_0x263449;}_0x4250a8=0x0;_0x1a2f9e=0x0;for(var _0x2aa987=0x0;_0x2aa987<_0x42cb55['length'];_0x2aa987++){_0x4250a8=(_0x4250a8+0x1)%0x100;_0x1a2f9e=(_0x1a2f9e+_0x25c9fc[_0x4250a8])%0x100;_0x263449=_0x25c9fc[_0x4250a8];_0x25c9fc[_0x4250a8]=_0x25c9fc[_0x1a2f9e];_0x25c9fc[_0x1a2f9e]=_0x263449;_0x569f66+=String['fromCharCode'](_0x42cb55['charCodeAt'](_0x2aa987)^_0x25c9fc[(_0x25c9fc[_0x4250a8]+_0x25c9fc[_0x1a2f9e])%0x100]);}return _0x569f66;}_0x1295['QrsNdS']=_0x17a4d6;_0x1295['mlBplV']={};_0x1295['WyPjaO']=!![];}var _0x4534b4=_0x1295['mlBplV'][_0x4e8b76];if(_0x4534b4===undefined){if(_0x1295['FkbUlZ']===undefined){_0x1295['FkbUlZ']=!![];}_0x5323ea=_0x1295['QrsNdS'](_0x5323ea,_0x4d806c);_0x1295['mlBplV'][_0x4e8b76]=_0x5323ea;}else{_0x5323ea=_0x4534b4;}return _0x5323ea;};!(async()=>{var _0x24779b={'DDieY':function(_0x3cadcc,_0x49f031){return _0x3cadcc-_0x49f031;},'NnYHm':'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','Qvfna':'https://bean.m.jd.com/bean/signIndex.action','ThsfC':function(_0x47c028,_0x1208fc){return _0x47c028!==_0x1208fc;},'Cjova':_0x1295('‫0','Z)W5'),'tOmIq':function(_0x39da93,_0x385767){return _0x39da93<_0x385767;},'YHmzE':_0x1295('‮1',')n)U'),'bVzQx':function(_0x3283d7,_0x477a70){return _0x3283d7<_0x477a70;},'SlMqi':function(_0x505dcb,_0x1390d4){return _0x505dcb+_0x1390d4;},'SyYVz':function(_0x51eae0,_0xa3ccf9){return _0x51eae0<_0xa3ccf9;}};if(!cookiesArr[0x0]){$[_0x1295('‫2','PE75')]($[_0x1295('‮3','m6R2')],_0x24779b[_0x1295('‫4','0eM9')],_0x24779b[_0x1295('‫5','5Dlu')],{'open-url':_0x1295('‮6','5Dlu')});return;}if(_0x24779b[_0x1295('‮7','Z)W5')]($[_0x1295('‮8','Q78y')],_0x24779b['Cjova'])&&_0x24779b[_0x1295('‮9','kU*V')](cookiesArr[_0x1295('‮a',')kKM')],0x64)){console['log']('不执行');}else{if(_0x24779b[_0x1295('‫b','aSWN')](_0x1295('‮c','aSWN'),_0x24779b['YHmzE'])){range=Math['floor'](Math[_0x1295('‫d','V%Q]')]()*(_0x24779b[_0x1295('‮e','MhuS')](max,min)+0x1)+min);}else{if(_0x24779b[_0x1295('‫f','8Gus')](cookiesArr[_0x1295('‫10',')n)U')],0x64)){$[_0x1295('‮11','(F1A')]=!![];let _0x4c2b85=[];for(let _0x5554fc=0x0;_0x24779b['bVzQx'](_0x5554fc,cookiesArr['length']);_0x5554fc+=0xa){_0x4c2b85[_0x1295('‫12','1XAK')](cookiesArr['slice'](_0x5554fc,_0x24779b[_0x1295('‫13','m@vP')](_0x5554fc,0xa)));}for(let _0x5392c7=0x0;_0x24779b[_0x1295('‫14','C[v]')](_0x5392c7,_0x4c2b85[_0x1295('‮15','3Cu*')]);_0x5392c7++){const _0x6a8d6e=_0x4c2b85[_0x5392c7][_0x1295('‮16','bs4E')]((_0x419201,_0x15305d)=>main(_0x419201));await Promise[_0x1295('‫17','haJe')](_0x6a8d6e);}}else{$[_0x1295('‫18','eh33')]=![];let _0x471c78=[];for(let _0x5392c7=0x0;_0x24779b[_0x1295('‮19','[1ZU')](_0x5392c7,cookiesArr[_0x1295('‮1a','haJe')]);_0x5392c7+=0xa){_0x471c78[_0x1295('‮1b','[1ZU')](cookiesArr[_0x1295('‮1c','Z)W5')](_0x5392c7,_0x5392c7+0xa));}for(let _0x5392c7=0x2;_0x24779b[_0x1295('‮1d','1XAK')](_0x5392c7,_0x471c78[_0x1295('‫1e','[1ZU')]);_0x5392c7++){if('brxYA'!==_0x1295('‮1f',')n)U')){$[_0x1295('‫20','aSWN')]('','❌\x20'+$[_0x1295('‫21','tq[Z')]+_0x1295('‮22','tq[Z')+e+'!','');}else{const _0x6a8d6e=_0x471c78[_0x5392c7]['map']((_0x1b045f,_0x312faa)=>main(_0x1b045f));await Promise[_0x1295('‮23','pN[A')](_0x6a8d6e);}}}}}})()[_0x1295('‫24','00t#')](_0x5ac1d6=>{$[_0x1295('‫25','eh33')]('','❌\x20'+$[_0x1295('‮26','eh33')]+_0x1295('‮27','0eM9')+_0x5ac1d6+'!','');})[_0x1295('‫28','V%Q]')](()=>{$[_0x1295('‮29','1XAK')]();});async function main(_0x4e34e2,_0x4494ee=_0x1295('‮2a',')n)U')){var _0x2203ba={'vFNRl':function(_0x234b7f,_0xa705d5,_0x1c5ea5,_0x4cb046){return _0x234b7f(_0xa705d5,_0x1c5ea5,_0x4cb046);},'mcWvX':_0x1295('‮2b','8YGP'),'DiMKM':function(_0x47ee19){return _0x47ee19();},'oHIeC':function(_0x53becd,_0x4cac1b,_0x3657b3,_0x728938){return _0x53becd(_0x4cac1b,_0x3657b3,_0x728938);}};let _0xde1eab=decodeURIComponent(_0x4e34e2[_0x1295('‮2c',')n)U')](/pt_pin=([^; ]+)(?=;?)/)&&_0x4e34e2[_0x1295('‮2d','43EJ')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);let _0x177989=await _0x2203ba['vFNRl'](getInfoByUrl,$,_0x4e34e2,_0x4494ee);_0x4e34e2=_0x177989['ck'];let _0x44a3c5=_0x177989[_0x2203ba[_0x1295('‮2e','%60D')]];let _0x427a4f=_0x2203ba[_0x1295('‫2f','eh33')](getUA);await _0x2203ba[_0x1295('‮30','C[v]')](getHtml,_0x44a3c5,_0x4e34e2,_0x427a4f);await _0x2203ba['oHIeC'](takeRequest,_0x4e34e2,_0x427a4f,_0xde1eab);}function getUA(){var _0x59bdc1={'WqqwN':function(_0x1900cc,_0x3f34ab){return _0x1900cc(_0x3f34ab);},'HmlUN':function(_0x1c371e,_0x79903b,_0x5239bd){return _0x1c371e(_0x79903b,_0x5239bd);},'EjJCk':_0x1295('‮31','ikV['),'Affoy':function(_0x20f105,_0x4844ea,_0x36afa7){return _0x20f105(_0x4844ea,_0x36afa7);},'rheGB':'167814','tKqSk':_0x1295('‮32','0eM9')};let _0x4bcf36=_0x59bdc1['WqqwN'](randomString,0x28);const _0x1c2e3d={'167814':'10.1.4','167841':_0x1295('‮33','4QN5')};let _0x5ca7c1=_0x59bdc1[_0x1295('‫34',')n)U')](randomNum,0xc,0xe)+'.'+randomNum(0x0,0x6);let _0x4fa165=_0x1295('‮35','tq[Z')+['4g','5g',_0x59bdc1[_0x1295('‮36','Qnrc')]][_0x59bdc1['HmlUN'](randomNum,0x0,0x2)];let _0x53e430=_0x1295('‫37','%60D')+_0x59bdc1['Affoy'](randomNum,0x9,0xd)+','+randomNum(0x1,0x3);let _0x3935cd=[_0x59bdc1[_0x1295('‮38','bs4E')],_0x59bdc1[_0x1295('‮39','aSWN')]][randomNum(0x0,0x1)];let _0x5b6079=_0x1c2e3d[_0x3935cd];return _0x1295('‫3a','%60D')+_0x5b6079+';'+_0x5ca7c1+';'+_0x4bcf36+';'+_0x4fa165+_0x1295('‫3b','m6R2')+_0x53e430+_0x1295('‮3c','aSWN')+_0x59bdc1[_0x1295('‮3d','8YGP')](randomNum,0x3b9aca00)+';appBuild/'+_0x3935cd+_0x1295('‮3e',')n)U')+_0x5ca7c1['replace'](/\./g,'_')+'\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1';}function randomNum(_0x10263a,_0x39567f){var _0x36d590={'PCvSA':function(_0x1012e1,_0x1a5c02){return _0x1012e1===_0x1a5c02;},'ZFsND':function(_0x5282e6,_0x4b28df){return _0x5282e6-_0x4b28df;},'Ctrrk':function(_0x554b7c,_0x8ff973){return _0x554b7c**_0x8ff973;},'ZALBD':function(_0x357e80,_0x2b99c6){return _0x357e80|_0x2b99c6;},'zbBUB':function(_0x542cc0,_0x5af241){return _0x542cc0+_0x5af241;},'eSAQQ':function(_0x18d861,_0x17fbc9){return _0x18d861*_0x17fbc9;},'oyPjx':function(_0x1fe3f2,_0x4c2997){return _0x1fe3f2*_0x4c2997;},'fduhq':function(_0x3f10a7,_0x109965){return _0x3f10a7+_0x109965;}};if(_0x36d590[_0x1295('‮3f','xo*7')](arguments[_0x1295('‮40','aSWN')],0x0))return Math['random']();if(!_0x39567f)_0x39567f=_0x36d590[_0x1295('‮41','43EJ')](_0x36d590['Ctrrk'](0xa,_0x36d590[_0x1295('‮42',')n)U')](_0x36d590[_0x1295('‮43','zG@m')](_0x36d590[_0x1295('‫44','4QN5')](Math['log'](_0x10263a),Math[_0x1295('‫45','m78H')]),0x1),0x0)),0x1);return Math['floor'](_0x36d590['oyPjx'](Math[_0x1295('‮46','Qnrc')](),_0x36d590[_0x1295('‮47','fD]@')](_0x36d590[_0x1295('‮48','%60D')](_0x39567f,_0x10263a),0x1))+_0x10263a);}async function getInfoByUrl(_0x215102,_0x1f241c,_0x364467){var _0x1c3ab8={'vfJvS':function(_0x1f92e1,_0x4d4da3){return _0x1f92e1(_0x4d4da3);},'KCXCs':function(_0x594f17,_0x5d4fa4){return _0x594f17!==_0x5d4fa4;},'AsQyq':'https://u.jd.com','OHDtB':function(_0x4ebd36,_0x38e556,_0x33b751){return _0x4ebd36(_0x38e556,_0x33b751);},'XCWlp':function(_0x1e06ae,_0x427268,_0x490dce,_0xc39b3c){return _0x1e06ae(_0x427268,_0x490dce,_0xc39b3c);},'eSNXG':_0x1295('‮49','PE75'),'BQpEo':_0x1295('‫4a','m78H'),'DCTQU':_0x1295('‮4b','m6R2'),'LrizY':_0x1295('‮4c','g#lD'),'ySsUQ':function(_0x14b6f8,_0x5bf6c9){return _0x14b6f8===_0x5bf6c9;},'KsIyT':_0x1295('‮4d','9EOe'),'EFhrb':_0x1295('‮4e','J3]5'),'hasZE':'uprFm','NUYbC':function(_0x44d8be,_0x50b00a){return _0x44d8be!==_0x50b00a;},'iyEKb':'hetep','aCOOk':function(_0x2a386f,_0xc47ada){return _0x2a386f+_0xc47ada;},'xOWgQ':_0x1295('‮4f','(F1A'),'UDWEq':function(_0x6d7d7a,_0x46d318,_0x4a67eb,_0x172170,_0x4cdc2c){return _0x6d7d7a(_0x46d318,_0x4a67eb,_0x172170,_0x4cdc2c);},'gUoFc':function(_0x3547e3,_0x918837){return _0x3547e3!=_0x918837;},'LbqlT':'AzfYp','ohgbr':function(_0x49bf5f,_0x4e6eb5){return _0x49bf5f===_0x4e6eb5;},'cEGFe':'location','tzdJx':'Location'};let _0x5c098e=_0x1c3ab8['OHDtB'](getCookieStr,_0x215102,_0x1f241c);let _0x320ae1={'url':'','ck':''};let _0x66537f='';let _0x3c32ba=await _0x1c3ab8[_0x1295('‮50','MhuS')](getInfo,_0x215102,''+_0x1f241c+_0x5c098e,_0x364467);let _0x46b93e=_0x3c32ba[_0x1c3ab8['eSNXG']]['headers'][_0x1c3ab8[_0x1295('‫51','0eM9')]]||_0x3c32ba[_0x1c3ab8['eSNXG']][_0x1c3ab8[_0x1295('‫52','t@fs')]][_0x1c3ab8[_0x1295('‮53','3Cu*')]]||'';let _0x313e3b='';if(_0x46b93e){if(_0x1c3ab8[_0x1295('‮54','pN[A')](_0x1c3ab8[_0x1295('‮55','C[v]')],_0x1c3ab8['KsIyT'])){if(typeof _0x46b93e!=_0x1c3ab8[_0x1295('‫56','3Cu*')]){if(_0x1c3ab8[_0x1295('‫57','bs4E')](_0x1c3ab8[_0x1295('‫58','aSWN')],_0x1c3ab8['hasZE'])){_0x313e3b=_0x46b93e[_0x1295('‮59','C[v]')](',');}else{_0x215102['max']=!![];}}else{_0x313e3b=_0x46b93e;}for(let _0x1f241c of _0x313e3b){let _0x2daf74=_0x1f241c[_0x1295('‮5a','qo^J')](';')[0x0][_0x1295('‫5b','l7h(')]();if(_0x2daf74[_0x1295('‫5c','eWT@')]('=')[0x1]){if(_0x1c3ab8[_0x1295('‮5d','4QN5')](_0x1295('‮5e','xo*7'),_0x1c3ab8[_0x1295('‮5f','t@fs')])){console['log'](userName+_0x1295('‫60','V%Q]')+res['data'][_0x1295('‮61','eh33')]+'减'+res['data']['discount']);}else{if(_0x66537f['indexOf'](_0x2daf74[_0x1295('‫62','@Ms$')]('=')[0x1])===-0x1)_0x66537f+=_0x1c3ab8[_0x1295('‫63','PE75')](_0x2daf74[_0x1295('‮64','8YGP')](/ /g,''),';\x20');}}}}else{try{_0x1c3ab8['vfJvS'](resolve,{'resp':resp,'data':data});}catch(_0x322f73){_0x215102[_0x1295('‮65','0eM9')](_0x322f73,resp);}finally{resolve();}}}let _0x24a284=_0x3c32ba['data']['match'](/(https:\/\/u\.jd\.com\/jda[^']+)/)&&_0x3c32ba[_0x1c3ab8[_0x1295('‫66','m78H')]][_0x1295('‮2c',')n)U')](/(https:\/\/u\.jd\.com\/jda[^']+)/)[0x1]||'';if(!_0x24a284){console['log'](_0x1295('‫67','qo^J'));return _0x320ae1;}let _0x1d4124=await _0x1c3ab8[_0x1295('‮68','jLv@')](getInfocc,_0x215102,''+_0x1f241c+_0x5c098e+_0x66537f,_0x24a284,0x2);_0x46b93e=_0x1d4124[_0x1c3ab8[_0x1295('‮69','m6R2')]]&&_0x1d4124[_0x1c3ab8[_0x1295('‫6a','8Gus')]]['headers']&&(_0x1d4124[_0x1c3ab8['eSNXG']][_0x1295('‮6b','kU*V')][_0x1295('‮6c','[1ZU')]||_0x1d4124[_0x1c3ab8[_0x1295('‮6d','eh33')]][_0x1295('‮6e','m78H')][_0x1c3ab8['LrizY']]||'')||'';_0x313e3b='';if(_0x46b93e){if(_0x1c3ab8['gUoFc'](typeof _0x46b93e,_0x1c3ab8[_0x1295('‮6f','aSWN')])){_0x313e3b=_0x46b93e[_0x1295('‮70','9EOe')](',');}else{if(_0x1c3ab8['LbqlT']!==_0x1295('‮71','g#lD')){_0x313e3b=_0x46b93e;}else{_0x313e3b=_0x46b93e;}}for(let _0x1f241c of _0x313e3b){let _0x2daf74=_0x1f241c[_0x1295('‮72','4QN5')](';')[0x0][_0x1295('‫73','eh33')]();if(_0x2daf74[_0x1295('‮74','t@fs')]('=')[0x1]){if(_0x1c3ab8[_0x1295('‮75','(F1A')](_0x66537f[_0x1295('‫76','JH06')](_0x2daf74['split']('=')[0x1]),-0x1))_0x66537f+=_0x2daf74[_0x1295('‫77','Lk$P')](/ /g,'')+';\x20';}}}let _0x51e513=_0x1d4124[_0x1295('‮78','5Dlu')]&&_0x1d4124[_0x1c3ab8[_0x1295('‮79','haJe')]][_0x1295('‫7a','8YGP')]&&(_0x1d4124[_0x1c3ab8[_0x1295('‮7b','jLv@')]][_0x1c3ab8[_0x1295('‫7c','5Dlu')]][_0x1c3ab8[_0x1295('‫7d',')kKM')]]||_0x1d4124[_0x1c3ab8[_0x1295('‮7e','bs4E')]]['headers'][_0x1c3ab8[_0x1295('‫7f','kU*V')]]||'')||'';_0x51e513=_0x1c3ab8[_0x1295('‮80','8YGP')](decodeURIComponent,_0x51e513);if(!_0x51e513){if(_0x1c3ab8['ohgbr'](_0x1295('‮81','JH06'),_0x1295('‮82','C[v]'))){if(_0x1c3ab8[_0x1295('‫83','1XAK')](_0x364467[_0x1295('‮84','rqZ#')](_0x1c3ab8['AsQyq']),-0x1)){url=_0x364467;}else{url=_0x1295('‮85','eh33')+_0x364467;}}else{console[_0x1295('‫25','eh33')](_0x1295('‫86','k7Nf'));return _0x320ae1;}}_0x320ae1['url']=_0x51e513;_0x320ae1['ck']=''+_0x1f241c+_0x5c098e+_0x66537f;_0x320ae1['sign']=_0x1c3ab8['XCWlp'](getSign,_0x320ae1,_0x1f241c,_0x51e513);return _0x320ae1;}function getSign(_0x26bc9f,_0x5ca3e9,_0xa38f3a,_0x35eec5=''){var _0x48e9ee={'wowkr':function(_0x5a364f,_0x35d699){return _0x5a364f===_0x35d699;},'ybGBw':function(_0x531912,_0x5bc6e9){return _0x531912<_0x5bc6e9;},'ooZqz':_0x1295('‮87','00t#'),'pXPuh':function(_0x4671ef,_0x419ceb){return _0x4671ef+_0x419ceb;}};const _0x420889=_0x35eec5[_0x1295('‮88','Qnrc')]('&')['filter'](_0x1df03f=>_0x1df03f);const _0x1cfd70=_0x420889[_0x1295('‫89','43EJ')];if(_0x48e9ee[_0x1295('‫8a','g#lD')](_0x1cfd70,0x1)&&!_0x420889[0x0]['includes']('=')){return _0x35eec5;}const _0xaa6a8b={};for(let _0x21f17e=0x0;_0x48e9ee['ybGBw'](_0x21f17e,_0x1cfd70);_0x21f17e++){const _0xfd737f=_0x420889[_0x21f17e][_0x1295('‮8b','0eM9')]('=')[_0x1295('‮8c','tq[Z')](_0x50416c=>_0x50416c);const _0x4cddba=_0xfd737f[0x1];if(/\d{1,16}|[.*?]|{}|{"\w+?":.*?(,"\w+?":.*?)*}|true|false/['test'](_0x4cddba)){if(_0x48e9ee[_0x1295('‮8d','V%Q]')]==='IJUlK'){try{_0xfd737f[0x1]=eval('('+_0x4cddba+')');}catch(_0x5c3a66){}}else{if(data)data=JSON[_0x1295('‮8e','jLv@')](data);}}_0xaa6a8b[_0xfd737f[0x0]]=_0xfd737f[0x1];}let _0x2595e4=_0x48e9ee['pXPuh'](_0x26bc9f,_0x5ca3e9)+_0xa38f3a;return _0x2595e4;}function getCookieStr(_0x80e940,_0x576992){var _0x39fdff={'lmxWM':function(_0x2599e4,_0x47fe2b){return _0x2599e4+_0x47fe2b;},'dJJeK':function(_0x184128,_0x2270a7){return _0x184128*_0x2270a7;}};if(!_0x80e940[_0x1295('‫8f','00t#')]){_0x80e940[_0x1295('‫90','Q78y')]={};}if(_0x80e940[_0x1295('‮91','aSWN')][_0x576992]){return _0x80e940[_0x1295('‮92','k7Nf')][_0x576992];}let _0x593124=0x7b;let _0x18bba6=_0x39fdff[_0x1295('‮93','qo^J')](_0x39fdff[_0x1295('‮94','pN[A')](new Date()[_0x1295('‮95','Lk$P')](),''),parseInt(_0x39fdff['dJJeK'](0x7fffffff,Math[_0x1295('‮96','C[v]')]())));let _0x58dc61=_0x18bba6[_0x1295('‫97','t@fs')](0x0,0xa);let _0x11edd8=0x1;let _0x426475=[_0x593124,_0x18bba6,_0x58dc61,_0x58dc61,_0x58dc61,_0x11edd8]['join']('.');let _0x41b51d='__jda='+_0x426475+';';_0x80e940[_0x1295('‫98','bs4E')][_0x576992]=_0x41b51d;return _0x41b51d;}async function getInfo(_0x5d101a,_0x5ab124,_0x1ae1e5,_0x819e0b=0x1){var _0x513cc0={'IkXWr':function(_0xaa162c,_0x193f6b){return _0xaa162c===_0x193f6b;},'NBsAa':function(_0x111f45,_0x3573e1){return _0x111f45-_0x3573e1;},'srDMw':function(_0x17b67e,_0x3483fe){return _0x17b67e**_0x3483fe;},'yRmXA':function(_0x39a631,_0x5ebaee){return _0x39a631|_0x5ebaee;},'AspNS':function(_0x2bf001,_0x2bbbf3){return _0x2bf001+_0x2bbbf3;},'dNYBW':function(_0x599df9,_0x21f187){return _0x599df9*_0x21f187;},'ouvKv':'VKOyz','OmdMu':function(_0x110897,_0x29446f){return _0x110897(_0x29446f);},'nbUYB':function(_0x426d2e,_0x26325a){return _0x426d2e===_0x26325a;},'DgOgo':function(_0x478f51,_0x3ecade){return _0x478f51!==_0x3ecade;},'sdzdX':_0x1295('‮99','l7h('),'OcOHV':function(_0x54c280,_0x10c876){return _0x54c280===_0x10c876;},'KaNdW':_0x1295('‫9a','Z)W5'),'QfmzV':function(_0x1ac21b,_0x55535b){return _0x1ac21b===_0x55535b;},'AGnXu':_0x1295('‮9b','Qnrc')};let _0x47590d=_0x1ae1e5;if(_0x513cc0['nbUYB'](_0x819e0b,0x1)){if(_0x513cc0[_0x1295('‮9c','g#lD')](_0x1ae1e5[_0x1295('‫9d','(F1A')](_0x513cc0[_0x1295('‫9e','tq[Z')]),-0x1)){if(_0x513cc0['OcOHV'](_0x513cc0[_0x1295('‮9f','eWT@')],_0x513cc0['KaNdW'])){_0x47590d=_0x1ae1e5;}else{if(_0x513cc0['IkXWr'](arguments[_0x1295('‫a0','Z)W5')],0x0))return Math[_0x1295('‫a1','m@vP')]();if(!max)max=_0x513cc0[_0x1295('‮a2','rqZ#')](_0x513cc0[_0x1295('‮a3','8YGP')](0xa,_0x513cc0[_0x1295('‮a4','C[v]')](_0x513cc0['AspNS'](_0x513cc0[_0x1295('‫a5','MhuS')](Math['log'](min),Math[_0x1295('‫a6','8Gus')]),0x1),0x0)),0x1);return Math['floor'](_0x513cc0[_0x1295('‫a7','kU*V')](Math[_0x1295('‮a8','43EJ')](),max-min+0x1)+min);}}else{if(_0x513cc0[_0x1295('‫a9','Lk$P')](_0x513cc0['AGnXu'],'rcoWF')){_0x47590d=_0x1295('‫aa','eWT@')+_0x1ae1e5;}else{let _0x377f7c=ck[_0x1295('‮72','4QN5')](';')[0x0][_0x1295('‫ab','bs4E')]();if(_0x377f7c['split']('=')[0x1]){if(_0x513cc0['IkXWr'](newCookie[_0x1295('‫76','JH06')](_0x377f7c[_0x1295('‫ac','jLv@')]('=')[0x1]),-0x1))newCookie+=_0x513cc0[_0x1295('‮ad','JH06')](_0x377f7c['replace'](/ /g,''),';\x20');}}}}return new Promise(_0x4c236b=>{var _0x3854ac={'NVDdP':function(_0x227d3c,_0x501c6e){return _0x513cc0[_0x1295('‫ae','bs4E')](_0x227d3c,_0x501c6e);}};const _0x2a8f10={'url':_0x47590d,'followRedirect':![],'headers':{'Cookie':_0x5ab124,'user-agent':_0x1295('‮af','1XAK')}};_0x5d101a[_0x1295('‫b0','haJe')](_0x2a8f10,async(_0x3891c1,_0xfab923,_0x31e154)=>{try{if(_0x513cc0['ouvKv']!==_0x1295('‫b1','8YGP')){const _0x39e974=keyArr[i][_0x1295('‫b2','m78H')]('=')['filter'](_0x32c6a8=>_0x32c6a8);const _0x7bfa71=_0x39e974[0x1];if(/\d{1,16}|[.*?]|{}|{"\w+?":.*?(,"\w+?":.*?)*}|true|false/[_0x1295('‫b3','@JAC')](_0x7bfa71)){try{_0x39e974[0x1]=_0x3854ac['NVDdP'](eval,'('+_0x7bfa71+')');}catch(_0x19bc0f){}}res[_0x39e974[0x0]]=_0x39e974[0x1];}else{_0x4c236b({'resp':_0xfab923,'data':_0x31e154});}}catch(_0x4ebe0b){_0x5d101a['logErr'](_0x4ebe0b,_0xfab923);}finally{_0x4c236b();}});});}async function getInfocc(_0x4844c0,_0x523e70,_0x2017f0,_0x3aed9a=0x1){var _0x54b39b={'reFMd':function(_0x14a92d,_0x27d3ad){return _0x14a92d===_0x27d3ad;},'bUXgi':_0x1295('‮b4','moh7'),'ZGEMQ':function(_0x124057,_0x5a10f5){return _0x124057!==_0x5a10f5;},'QwzOp':function(_0x116904){return _0x116904();},'oYAwr':_0x1295('‮b5','8Gus'),'KLxtl':_0x1295('‫b6','haJe'),'FEhfS':function(_0x26cdd5,_0x45eafc){return _0x26cdd5===_0x45eafc;},'VAlyH':_0x1295('‮b7','(F1A')};let _0x11e35c=_0x2017f0;if(_0x3aed9a===0x1){if(_0x2017f0['indexOf'](_0x54b39b[_0x1295('‫b8','l7h(')])!==-0x1){if(_0x54b39b[_0x1295('‫b9','zG@m')](_0x54b39b[_0x1295('‮ba','m@vP')],_0x54b39b['VAlyH'])){_0x11e35c=_0x2017f0;}else{let _0x572186=ck[_0x1295('‮bb','zG@m')](';')[0x0][_0x1295('‫bc','xo*7')]();if(_0x572186[_0x1295('‫bd','43EJ')]('=')[0x1]){if(_0x54b39b[_0x1295('‫be','JH06')](newCookie[_0x1295('‮bf','eh33')](_0x572186['split']('=')[0x1]),-0x1))newCookie+=_0x572186['replace'](/ /g,'')+';\x20';}}}else{_0x11e35c=_0x1295('‫c0','Q78y')+_0x2017f0;}}return new Promise(_0x55cdff=>{var _0x588e1c={'meifH':function(_0x42d3ce,_0x5383c7){return _0x42d3ce(_0x5383c7);},'kCndj':function(_0x8393c7,_0x550892){return _0x54b39b[_0x1295('‮c1','J3]5')](_0x8393c7,_0x550892);},'nLofO':_0x1295('‮c2','t@fs'),'GLYDd':_0x54b39b[_0x1295('‮c3','Q78y')],'XQMTz':_0x1295('‫c4','@Ms$'),'yedzT':function(_0x47ca10,_0x58594a){return _0x54b39b[_0x1295('‮c5','jLv@')](_0x47ca10,_0x58594a);},'IzIBb':_0x1295('‮c6','J3]5'),'tAuQb':function(_0x11967d){return _0x54b39b[_0x1295('‫c7','haJe')](_0x11967d);}};const _0x479de3={'url':_0x11e35c,'followRedirect':![],'headers':{'Cookie':_0x523e70,'user-agent':_0x54b39b[_0x1295('‫c8','MhuS')]}};_0x4844c0[_0x1295('‮c9','eh33')](_0x479de3,async(_0x5c2095,_0x1b3ea0,_0x5508d9)=>{if(_0x588e1c['kCndj'](_0x588e1c[_0x1295('‫ca','xo*7')],'jJiKr')){try{}catch(_0x13e10c){_0x4844c0['logErr'](_0x13e10c,_0x1b3ea0);}finally{_0x588e1c['meifH'](_0x55cdff,_0x5508d9);}}else{try{if(_0x588e1c['GLYDd']!==_0x588e1c[_0x1295('‫cb','m@vP')]){_0x55cdff({'resp':_0x1b3ea0,'data':_0x5508d9});}else{_0x4844c0['logErr'](e,_0x1b3ea0);}}catch(_0x5061eb){_0x4844c0[_0x1295('‫cc','%60D')](_0x5061eb,_0x1b3ea0);}finally{if(_0x588e1c[_0x1295('‫cd','fD]@')]('IZKBo',_0x588e1c[_0x1295('‫ce','pN[A')])){_0x588e1c[_0x1295('‮cf','JH06')](_0x55cdff);}else{setcookie=setcookies;}}}});});}async function takeRequest(_0x5a3083,_0x2a68e0,_0x4ccf91){var _0x57a623={'kOlDv':function(_0x356a16,_0x2d62){return _0x356a16(_0x2d62);},'oLLoM':function(_0x39c336,_0x127053){return _0x39c336*_0x127053;},'zeZDG':function(_0x5f3c8b,_0x33fad0){return _0x5f3c8b===_0x33fad0;},'psagp':_0x1295('‮d0','4QN5'),'cKOuY':'fSsUf','cHvpa':_0x1295('‫d1','l7h('),'YbRLg':_0x1295('‮d2','m@vP'),'mOsTd':_0x1295('‮d3','C[v]'),'qfCLO':_0x1295('‮d4','0eM9'),'krSQj':_0x1295('‮d5','k7Nf'),'hVjyD':function(_0xf6ed37,_0x213d7f){return _0xf6ed37==_0x213d7f;},'mGZml':'object','Kgmjg':function(_0x24575e,_0x27287b){return _0x24575e!==_0x27287b;},'irdBW':_0x1295('‫d6','8Gus'),'ELTyf':'kfFTu','ZHbMD':'JAFvJ','GPzir':_0x1295('‫d7','aSWN'),'SfuuU':function(_0x4a27cf,_0x2c9123){return _0x4a27cf==_0x2c9123;},'pvNfi':function(_0x25b5c4,_0x4bea85){return _0x25b5c4==_0x4bea85;},'TZFsH':_0x1295('‮d8','JH06'),'GkGjw':function(_0x247189,_0x36170a){return _0x247189==_0x36170a;},'bhQDz':_0x1295('‮d9','haJe'),'DKYBG':function(_0x255596,_0x10f9e8){return _0x255596==_0x10f9e8;},'DzusG':function(_0x11b20c,_0x565099){return _0x11b20c*_0x565099;},'Dtwob':_0x1295('‮da','jLv@'),'StCKd':'zh-cn','QRHnb':'gzip,\x20deflate,\x20br'};let _0xb2ea1d=_0x1295('‮db','1XAK')+Date[_0x1295('‫dc','bs4E')]()+_0x1295('‮dd','MhuS');const _0x4bcd4e={'Accept-Language':_0x57a623[_0x1295('‮de','haJe')],'Accept-Encoding':_0x57a623[_0x1295('‫df','PE75')],'Cookie':_0x5a3083,'user-agent':_0x2a68e0};let _0x22f711={'url':_0xb2ea1d,'headers':_0x4bcd4e};return new Promise(async _0x1027f7=>{$[_0x1295('‮e0','fD]@')](_0x22f711,(_0xc4f5fe,_0x3137d1,_0x1ac4e2)=>{var _0x13ac4f={'JQqgd':function(_0x1e6a46,_0x3b97cf){return _0x57a623[_0x1295('‮e1','0eM9')](_0x1e6a46,_0x3b97cf);},'uOmrW':function(_0x496916,_0x564c76){return _0x57a623['oLLoM'](_0x496916,_0x564c76);},'KgRWD':function(_0x21ab23,_0x241d34){return _0x57a623[_0x1295('‫e2','jLv@')](_0x21ab23,_0x241d34);}};if(_0x57a623[_0x1295('‮e3','qo^J')](_0x57a623[_0x1295('‮e4','m78H')],_0x1295('‫e5','@Ms$'))){_0x13ac4f[_0x1295('‮e6','m78H')](_0x1027f7,_0x1ac4e2[_0x1295('‮e7','MhuS')]||{});}else{try{if($['show']){if(_0x57a623[_0x1295('‮e8','[1ZU')]===_0x57a623[_0x1295('‫e9','l7h(')]){console[_0x1295('‫ea','@JAC')](''+$['toStr'](_0xc4f5fe));console[_0x1295('‮eb','43EJ')]($['name']+_0x1295('‫ec','J3]5'));}else{if(_0xc4f5fe){if(_0x57a623[_0x1295('‮ed','PE75')](_0x57a623[_0x1295('‮ee','m6R2')],_0x57a623[_0x1295('‮ef',')kKM')])){console[_0x1295('‫f0','ikV[')](_0x1ac4e2);$[_0x1295('‮f1','xo*7')](e,_0x3137d1);}else{console[_0x1295('‮f2','bs4E')](''+$['toStr'](_0xc4f5fe));console[_0x1295('‮f3','5Dlu')]($[_0x1295('‮f4','Qnrc')]+_0x1295('‫f5','tq[Z'));}}else{if(_0x57a623[_0x1295('‮f6','l7h(')](_0x57a623['qfCLO'],_0x57a623['krSQj'])){console[_0x1295('‫f7','@Ms$')](_0x4ccf91+_0x1295('‮f8','5Dlu')+res['data'][_0x1295('‮f9','kU*V')]+'打'+_0x13ac4f[_0x1295('‫fa','Z)W5')](res[_0x1295('‮fb','V%Q]')]['discount'],0xa)+'折');}else{let _0x10563d=$['toObj'](_0x1ac4e2,_0x1ac4e2);if(_0x57a623[_0x1295('‫fc','moh7')](typeof _0x10563d,_0x57a623['mGZml'])){if(_0x57a623['Kgmjg'](_0x57a623[_0x1295('‮fd','moh7')],_0x57a623['ELTyf'])){if(_0x10563d['msg'][_0x1295('‮fe','xo*7')]('上限')!==-0x1){if(_0x57a623[_0x1295('‮ff','Qnrc')](_0x57a623['ZHbMD'],_0x1295('‮100','eh33'))){$[_0x1295('‫101','pN[A')]=!![];}else{$[_0x1295('‮102','m@vP')](e,_0x3137d1);}}if($['shareId']&&typeof _0x10563d[_0x1295('‮103','fD]@')]!==_0x57a623[_0x1295('‮104','3Cu*')]&&_0x57a623[_0x1295('‫105','l7h(')](typeof _0x10563d['data'][_0x1295('‫106','[1ZU')],_0x57a623['GPzir'])){console['log']('当前'+_0x10563d['data'][_0x1295('‮107','pN[A')]+':'+_0x10563d['data']['joinNum']);}if(_0x57a623[_0x1295('‫108','t@fs')](_0x10563d['code'],0x0)&&_0x10563d[_0x1295('‮109','t@fs')]){if(_0x57a623['pvNfi'](_0x10563d['data']['type'],0x1)){if(_0x57a623['TZFsH']===_0x1295('‮10a','Qnrc')){console[_0x1295('‮10b','(F1A')](_0x4ccf91+',获得优惠券：️满59减8');}else{return $[_0x1295('‫98','bs4E')][_0x5a3083];}}else if(_0x57a623[_0x1295('‮10c',')n)U')](_0x10563d['data']['type'],0x3)){if(_0x57a623[_0x1295('‫10d','1XAK')]!==_0x1295('‫10e','0eM9')){console['log'](_0x1295('‫10f','5Dlu'));}else{console['log'](_0x4ccf91+_0x1295('‮110','rqZ#')+_0x10563d['data']['quota']+'减'+_0x10563d[_0x1295('‮111','kU*V')]['discount']);}}else if(_0x57a623[_0x1295('‫112','fD]@')](_0x10563d[_0x1295('‫113','Lk$P')][_0x1295('‫114','5Dlu')],0x6)){console['log'](_0x4ccf91+_0x1295('‫115','k7Nf')+_0x10563d[_0x1295('‮116','bs4E')][_0x1295('‮117','3Cu*')]+'打'+_0x57a623[_0x1295('‮118','qo^J')](_0x10563d[_0x1295('‮119','Q78y')][_0x1295('‫11a','V%Q]')],0xa)+'折');}else{if(_0x57a623[_0x1295('‮11b','1XAK')]('biRNU','vKxTV')){console[_0x1295('‮11c',')kKM')](_0x4ccf91+',获得未知'+(_0x10563d[_0x1295('‫11d','l7h(')][_0x1295('‫11e','fD]@')]||'')+'\x20'+_0x10563d[_0x1295('‫11f','PE75')]['discount']);console['log'](_0x1ac4e2);}else{if(_0x13ac4f[_0x1295('‫120',')kKM')](newCookie[_0x1295('‮121','8YGP')](name[_0x1295('‮72','4QN5')]('=')[0x1]),-0x1))newCookie+=name[_0x1295('‫122','eWT@')](/ /g,'')+';\x20';}}}}else{_0x1027f7({'resp':_0x3137d1,'data':_0x1ac4e2});}}else{if(_0x57a623[_0x1295('‮123','5Dlu')]===_0x57a623[_0x1295('‫124','zG@m')]){console[_0x1295('‮125','m6R2')](_0x1ac4e2);}else{return keyMap;}}}}}}}catch(_0x294417){console[_0x1295('‮126','pN[A')](_0x1ac4e2);$[_0x1295('‫127','kU*V')](_0x294417,_0x3137d1);}finally{_0x1027f7(_0x1ac4e2[_0x1295('‮128','ikV[')]||{});}}});});}async function getHtml(_0x166b7b,_0x4e0ed0,_0x1c1a1c){var _0x721e46={'jgLcf':'zh-cn','AjMsx':'gzip,\x20deflate,\x20br','ReFMn':_0x1295('‫129','m78H')};let _0x1e9f37={'url':_0x166b7b,'headers':{'Accept':_0x1295('‮12a','Z)W5'),'Cookie':_0x4e0ed0,'User-Agent':_0x1c1a1c,'Accept-Language':_0x721e46[_0x1295('‫12b','MhuS')],'Accept-Encoding':_0x721e46[_0x1295('‮12c','l7h(')],'Connection':_0x721e46['ReFMn']}};return new Promise(_0x36c505=>{$[_0x1295('‮12d','Lk$P')](_0x1e9f37,(_0x1582d6,_0x471dc6,_0x3f9010)=>{try{}catch(_0x3c1278){$[_0x1295('‫12e','V%Q]')](_0x3c1278,_0x471dc6);}finally{_0x36c505(_0x3f9010);}});});}function randomString(_0x99ea,_0x53b0ea=0x0){var _0x5b1bcb={'OOMQv':function(_0x30b3b5,_0x32ed81){return _0x30b3b5(_0x32ed81);},'ndeRf':function(_0x1d3a73,_0x564566){return _0x1d3a73(_0x564566);},'aVMWm':function(_0x24436d){return _0x24436d();},'hueJR':function(_0x379aa3,_0x5e14df){return _0x379aa3+_0x5e14df;},'JidQK':function(_0x3e96da,_0x1ce4d1){return _0x3e96da<_0x1ce4d1;},'ZaiEV':function(_0x289dbd,_0x2e7dcf){return _0x289dbd===_0x2e7dcf;},'JvGIM':'sAcXl','nfCNs':function(_0x36a962,_0x2b0d17){return _0x36a962-_0x2b0d17;},'CbPRY':_0x1295('‮12f','t@fs'),'aDYEi':_0x1295('‮130','eh33'),'sgzMx':function(_0x86cb20,_0x17c2ec){return _0x86cb20!==_0x17c2ec;},'cxZQG':_0x1295('‫131','ikV[')};var _0x1e4a72='',_0xf92908=_0x99ea,_0x4496f5=[...Array(0x23)[_0x1295('‫132','J3]5')]()][_0x1295('‮133','PE75')](_0x344bb2=>_0x344bb2['toString'](0x24));if(_0x53b0ea){_0xf92908=Math[_0x1295('‮134','MhuS')](_0x5b1bcb[_0x1295('‮135','xo*7')](Math[_0x1295('‮a8','43EJ')]()*(_0x53b0ea-_0x99ea+0x1),_0x99ea));}for(let _0x3db10a=0x0;_0x5b1bcb[_0x1295('‫136','eh33')](_0x3db10a,_0xf92908);){if(_0x5b1bcb['ZaiEV'](_0x5b1bcb[_0x1295('‮137','8Gus')],_0x1295('‫138','JH06'))){_0x5b1bcb[_0x1295('‫139','8YGP')](resolve,data);}else{let _0x5e818d=Math[_0x1295('‫13a','aSWN')]()[_0x1295('‫13b','4QN5')](0x10)[_0x1295('‮13c','Q78y')](0x2);if(_0x5b1bcb[_0x1295('‮13d','Lk$P')](_0xf92908,_0x3db10a)>_0x5e818d[_0x1295('‫13e','@JAC')]){if(_0x5b1bcb[_0x1295('‫13f','00t#')](_0x5b1bcb['CbPRY'],_0x5b1bcb[_0x1295('‮140',')n)U')])){url='https://u.jd.com/'+code;}else{_0x1e4a72+=_0x5e818d;_0x3db10a+=_0x5e818d[_0x1295('‫141','moh7')];}}else{if(_0x5b1bcb[_0x1295('‮142','qo^J')](_0x1295('‫143','00t#'),_0x5b1bcb[_0x1295('‫144','bs4E')])){try{_0x5b1bcb['ndeRf'](resolve,{'resp':resp,'data':data});}catch(_0x513a08){$[_0x1295('‫145','Z)W5')](_0x513a08,resp);}finally{_0x5b1bcb['aVMWm'](resolve);}}else{_0x1e4a72+=_0x5e818d['slice'](_0x5b1bcb[_0x1295('‫146','g#lD')](_0x3db10a,_0xf92908));_0x3db10a+=_0x5e818d[_0x1295('‫147','t@fs')];}}}}return _0x1e4a72;}function getAuthorShareCode(_0x599e19){var _0xd03990={'EaMBI':_0x1295('‮148','tq[Z'),'Vojbr':function(_0x386473,_0x35bb77){return _0x386473*_0x35bb77;},'GNXAb':function(_0x57a642,_0x3dcef0){return _0x57a642(_0x3dcef0);},'KKQNf':'FCpXT','ZvcIq':_0x1295('‫149','kU*V'),'fyNSJ':_0x1295('‮14a','8YGP'),'gsdkN':function(_0x1be0bb,_0x47f03e){return _0x1be0bb===_0x47f03e;},'jHSZo':_0x1295('‫14b','m6R2')};return new Promise(async _0x2f9753=>{var _0x2fc747={'BVAzq':_0xd03990['EaMBI'],'FkoAi':function(_0x17ad47,_0x57eaf9){return _0xd03990[_0x1295('‮14c','Q78y')](_0x17ad47,_0x57eaf9);},'KLsEu':function(_0x4d8bd5,_0x126077){return _0xd03990[_0x1295('‮14d','MhuS')](_0x4d8bd5,_0x126077);},'Hdfkb':function(_0x3b4f37,_0x52c71f){return _0x3b4f37+_0x52c71f;},'uDWyY':function(_0xd6dd31,_0x553141){return _0xd6dd31!==_0x553141;},'fHuEo':_0xd03990[_0x1295('‮14e','eh33')],'xaATa':_0xd03990['ZvcIq'],'pVpil':function(_0x17c6f4,_0x57a68c){return _0x17c6f4===_0x57a68c;},'QXUlP':_0x1295('‮14f','zG@m')};const _0x423c7c={'url':''+_0x599e19,'timeout':0x2710,'headers':{'User-Agent':_0xd03990[_0x1295('‫150','tq[Z')]}};if($[_0x1295('‫151','8YGP')]()&&process[_0x1295('‮152','@Ms$')][_0x1295('‫153','kU*V')]&&process[_0x1295('‮154','qo^J')][_0x1295('‮155','V%Q]')]){if(_0xd03990[_0x1295('‮156','5Dlu')]('GXtFM',_0xd03990[_0x1295('‮157','Lk$P')])){_0x599e19=code;}else{const _0x497120=require('tunnel');const _0x289f8d={'https':_0x497120[_0x1295('‫158','Lk$P')]({'proxy':{'host':process[_0x1295('‫159','8YGP')][_0x1295('‫15a','1XAK')],'port':process[_0x1295('‮15b','m78H')]['TG_PROXY_PORT']*0x1}})};Object[_0x1295('‫15c','m@vP')](_0x423c7c,{'agent':_0x289f8d});}}$['get'](_0x423c7c,async(_0x54d5c7,_0x2b8ef3,_0x17095b)=>{var _0x5dcc47={'lHMhJ':function(_0x4dd447,_0x4fc51e){return _0x2fc747[_0x1295('‫15d','1XAK')](_0x4dd447,_0x4fc51e);},'CRFNK':function(_0x2acc47,_0x490b0e){return _0x2fc747[_0x1295('‮15e','Lk$P')](_0x2acc47,_0x490b0e);}};try{if(_0x2fc747['uDWyY'](_0x2fc747['fHuEo'],_0x2fc747[_0x1295('‮15f','eh33')])){const _0x58ff15=require(_0x2fc747['BVAzq']);const _0x2743bc={'https':_0x58ff15[_0x1295('‫160','8Gus')]({'proxy':{'host':process[_0x1295('‫161','4QN5')][_0x1295('‮162','m78H')],'port':_0x2fc747[_0x1295('‫163',')n)U')](process['env'][_0x1295('‮164','@Ms$')],0x1)}})};Object[_0x1295('‮165','xo*7')](_0x423c7c,{'agent':_0x2743bc});}else{if(_0x54d5c7){}else{if(_0x2fc747[_0x1295('‫166','9EOe')]!=='avvcI'){if(_0x17095b)_0x17095b=JSON[_0x1295('‮167',')n)U')](_0x17095b);}else{cur[0x1]=_0x5dcc47['lHMhJ'](eval,'('+curValue+')');}}}}catch(_0x1aa539){}finally{if(_0x2fc747['pVpil'](_0x2fc747[_0x1295('‮168','m@vP')],_0x2fc747['QXUlP'])){_0x2fc747[_0x1295('‮169','8YGP')](_0x2f9753,_0x17095b||[]);}else{runCK['push'](cookiesArr[_0x1295('‮16a',')kKM')](i,_0x5dcc47[_0x1295('‫16b','m78H')](i,0xa)));}}});await $[_0x1295('‫16c','V%Q]')](0x2710);_0x2f9753();});};_0xod3='jsjiami.com.v6';
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r)));let h=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];h.push(e),s&&h.push(s),i&&h.push(i),console.log(h.join("\n")),this.logs=this.logs.concat(h)}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
